{"remainingRequest":"/Users/kierangillen/code/palette/node_modules/docz-core/node_modules/babel-loader/lib/index.js?{\"presets\":[\"@babel/typescript\",\"@babel/react\",[\"@babel/env\",{\"targets\":{\"browsers\":[\"last 2 versions\"]}}],[\"/Users/kierangillen/code/palette/node_modules/babel-preset-docz/dist/index.js\",{\"flow\":false,\"typescript\":true,\"parseProps\":false}]],\"plugins\":[\"@babel/plugin-proposal-class-properties\",[\"module-resolver\",{\"extensions\":[\".ts\",\".tsx\"],\"root\":[\"./src\"]}],[\"/Users/kierangillen/code/palette/node_modules/docz-utils/lib/named-asset-import.js\",{\"loaderMap\":{\"svg\":{\"ReactComponent\":\"@svgr/webpack?-prettier,-svgo![path]\"}}}],\"/Users/kierangillen/code/palette/node_modules/react-hot-loader/babel.js\"],\"cacheDirectory\":true,\"babelrc\":false}!/Users/kierangillen/code/palette/node_modules/react-docgen-typescript-loader/dist/index.js!/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx","dependencies":[{"path":"/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx","mtime":1550251031223},{"path":"/Users/kierangillen/code/palette/node_modules/cache-loader/dist/cjs.js","mtime":1550251304255},{"path":"/Users/kierangillen/code/palette/node_modules/docz-core/node_modules/babel-loader/lib/index.js","mtime":1550251304217},{"path":"/Users/kierangillen/code/palette/node_modules/react-docgen-typescript-loader/dist/index.js","mtime":1550251304506}],"contextDependencies":[],"result":["var _jsxFileName = \"/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx\";\n\n(function () {\n  var enterModule = require('react-hot-loader').enterModule;\n\n  enterModule && enterModule(module);\n})();\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  background: white;\\n  border: none;\\n  bottom: 100%;\\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\\n  left: \", \";\\n  right: \", \";\\n  margin-bottom: 5px;\\n  opacity: 0;\\n  position: absolute;\\n  text-align: left;\\n  transform: \", \";\\n  transition: opacity 250ms ease-out;\\n  width: \", \"px;\\n\\n  &:hover {\\n    cursor: default;\\n  }\\n\\n  &.active {\\n    opacity: 1;\\n\\n    &:hover {\\n      opacity: 0;\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  display: inline-block;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BorderBox } from \"../BorderBox\";\nimport { Sans } from \"../Typography\";\nvar Wrapper = styled.div(_templateObject());\nvar Tip = styled(BorderBox)(_templateObject2(), function (p) {\n  return p.tipPosition.left === null ? \"auto\" : \"\".concat(p.tipPosition.left, \"px\");\n}, function (p) {\n  return p.tipPosition.right === null ? \"auto\" : \"\".concat(p.tipPosition.right, \"px\");\n}, function (p) {\n  return p.tipPosition.center ? \"translate(-50%)\" : \"none\";\n}, function (p) {\n  return p.width;\n});\nvar TipSize;\n\n(function (TipSize) {\n  TipSize[\"Sm\"] = \"sm\";\n  TipSize[\"Lg\"] = \"lg\";\n})(TipSize || (TipSize = {}));\n\n/**\n * A tooltip\n */\nexport var Tooltip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Tooltip, _React$Component);\n\n  function Tooltip() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Tooltip);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Tooltip)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      active: false,\n      tipPosition: {\n        left: 0,\n        center: false,\n        right: null\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"innerWrapper\", React.createRef());\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"computeTipPosition\", function () {\n      var left = 0;\n      var right = null;\n      var center = false;\n      var current = _this.innerWrapper.current;\n\n      if (current) {\n        var clientRect = current.getBoundingClientRect();\n        var innerWrapperLeft = clientRect.left;\n        var innerWrapperRight = clientRect.right;\n        var innerWrapperWidth = clientRect.width;\n        left = innerWrapperWidth / 2;\n        center = true;\n        var spillOver = _this.props.width / 2 - left;\n\n        if (spillOver > innerWrapperLeft) {\n          center = false;\n          left = 0;\n          right = null;\n        }\n\n        if (spillOver > window.innerWidth - innerWrapperRight) {\n          center = false;\n          left = null;\n          right = 0;\n        }\n      }\n\n      return {\n        center: center,\n        left: left,\n        right: right\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClick\", function () {\n      _this.setState({\n        active: !_this.state.active\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseOver\", function () {\n      _this.setState({\n        active: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleMouseOut\", function () {\n      _this.setState({\n        active: false\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var tipPosition = this.computeTipPosition();\n      this.setState({\n        tipPosition: tipPosition\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var content = formattedTip(this.props.content);\n      return React.createElement(Wrapper, {\n        onClick: this.handleClick,\n        onMouseOut: this.handleMouseOut,\n        onMouseOver: this.handleMouseOver,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Tip, {\n        className: this.state.active && \"active\",\n        p: this.props.size === TipSize.Sm ? 0.5 : 2,\n        tipPosition: this.state.tipPosition,\n        width: this.props.width,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Sans, {\n        size: \"2\",\n        color: \"black60\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, content)), React.createElement(\"div\", {\n        ref: this.innerWrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, this.props.children));\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return Tooltip;\n}(React.Component);\n\n_defineProperty(Tooltip, \"defaultProps\", {\n  size: TipSize.Lg,\n  width: 230\n});\n\nvar formattedTip = function formattedTip(tip) {\n  var substring = tip.substring(0, 300);\n\n  if (substring !== tip) {\n    substring += \"…\";\n  }\n\n  return substring;\n};\n\n;\n\n(function () {\n  var reactHotLoader = require('react-hot-loader').default;\n\n  var leaveModule = require('react-hot-loader').leaveModule;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Wrapper, \"Wrapper\", \"/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx\");\n  reactHotLoader.register(Tip, \"Tip\", \"/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx\");\n  reactHotLoader.register(Tooltip, \"Tooltip\", \"/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx\");\n  reactHotLoader.register(formattedTip, \"formattedTip\", \"/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx\");\n  leaveModule(module);\n})();\n\n;",{"version":3,"sources":["/Users/kierangillen/code/palette/src/elements/Tooltip/Tooltip.tsx"],"names":["React","styled","BorderBox","Sans","Wrapper","div","Tip","p","tipPosition","left","right","center","width","TipSize","Tooltip","active","createRef","current","innerWrapper","clientRect","getBoundingClientRect","innerWrapperLeft","innerWrapperRight","innerWrapperWidth","spillOver","props","window","innerWidth","setState","state","computeTipPosition","content","formattedTip","handleClick","handleMouseOut","handleMouseOver","size","Sm","children","Component","Lg","tip","substring"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\n\nimport { BorderBox } from \"../BorderBox\"\nimport { Sans } from \"../Typography\"\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: inline-block;\n`\n\ninterface TipPosition {\n  left?: number\n  right?: number\n  center: boolean\n}\n\ninterface TipProps {\n  tipPosition: TipPosition\n  width: number\n  className?: string\n}\n\nconst Tip = styled(BorderBox)<TipProps>`\n  background: white;\n  border: none;\n  bottom: 100%;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.2);\n  left: ${(p: TipProps) =>\n    p.tipPosition.left === null ? \"auto\" : `${p.tipPosition.left}px`};\n  right: ${(p: TipProps) =>\n    p.tipPosition.right === null ? \"auto\" : `${p.tipPosition.right}px`};\n  margin-bottom: 5px;\n  opacity: 0;\n  position: absolute;\n  text-align: left;\n  transform: ${(p: TipProps) =>\n    p.tipPosition.center ? \"translate(-50%)\" : \"none\"};\n  transition: opacity 250ms ease-out;\n  width: ${(p: TipProps) => p.width}px;\n\n  &:hover {\n    cursor: default;\n  }\n\n  &.active {\n    opacity: 1;\n\n    &:hover {\n      opacity: 0;\n    }\n  }\n`\n\nenum TipSize {\n  Sm = \"sm\",\n  Lg = \"lg\",\n}\n\nexport interface TooltipProps {\n  content: string\n  size: TipSize\n  width: number\n}\n\n/**\n * A tooltip\n */\nexport class Tooltip extends React.Component<TooltipProps> {\n  static defaultProps = {\n    size: TipSize.Lg,\n    width: 230,\n  }\n\n  state = {\n    active: false,\n    tipPosition: { left: 0, center: false, right: null },\n  }\n\n  private innerWrapper = React.createRef<HTMLDivElement>()\n\n  computeTipPosition = () => {\n    let left = 0\n    let right = null\n    let center = false\n\n    const current = this.innerWrapper.current\n\n    if (current) {\n      const clientRect = current.getBoundingClientRect()\n      const innerWrapperLeft = clientRect.left\n      const innerWrapperRight = clientRect.right\n      const innerWrapperWidth = clientRect.width\n\n      left = innerWrapperWidth / 2\n      center = true\n      const spillOver = this.props.width / 2 - left\n\n      if (spillOver > innerWrapperLeft) {\n        center = false\n        left = 0\n        right = null\n      }\n\n      if (spillOver > window.innerWidth - innerWrapperRight) {\n        center = false\n        left = null\n        right = 0\n      }\n    }\n\n    return {\n      center,\n      left,\n      right,\n    }\n  }\n\n  componentDidMount() {\n    const tipPosition = this.computeTipPosition()\n    this.setState({ tipPosition })\n  }\n\n  handleClick = () => {\n    this.setState({ active: !this.state.active })\n  }\n\n  handleMouseOver = () => {\n    this.setState({ active: true })\n  }\n\n  handleMouseOut = () => {\n    this.setState({ active: false })\n  }\n\n  render() {\n    const content = formattedTip(this.props.content)\n    return (\n      <Wrapper\n        onClick={this.handleClick}\n        onMouseOut={this.handleMouseOut}\n        onMouseOver={this.handleMouseOver}\n      >\n        <Tip\n          className={this.state.active && \"active\"}\n          p={this.props.size === TipSize.Sm ? 0.5 : 2}\n          tipPosition={this.state.tipPosition}\n          width={this.props.width}\n        >\n          <Sans size={\"2\"} color=\"black60\">\n            {content}\n          </Sans>\n        </Tip>\n        <div ref={this.innerWrapper}>{this.props.children}</div>\n      </Wrapper>\n    )\n  }\n}\n\nconst formattedTip = tip => {\n  let substring = tip.substring(0, 300)\n\n  if (substring !== tip) {\n    substring += \"…\"\n  }\n\n  return substring\n}\n"]}]}